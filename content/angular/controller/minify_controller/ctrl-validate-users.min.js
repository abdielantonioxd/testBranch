app.controller("ctrl-validate-session",["$scope","Dataservice",function($scope,Dataservice){function userExist(){null!=$scope.UserActiveNanny&&($scope.email=$scope.UserActiveNanny[0].email,$scope.sessionActive=!1,$scope.sessionNanny=!1,$scope.sessionFacebook=!0,0===opInit.length&&(opInit.push({id:$scope.UserActiveNanny[0].id,email:$scope.UserActiveNanny[0].email}),localStorage.setItem("datos",JSON.stringify(opInit)),$scope.linkCreateProfile=opInit[0].id))}function userExistFacebook(){null!=$scope.UserActiveFacebook&&($scope.email=$scope.UserActiveFacebook[0].name,$scope.sessionActive=!1,$scope.sessionNanny=!0,$scope.sessionFacebook=!1,0===opInit.length&&(opInit.push({id:$scope.UserActiveFacebook[0].id,email:$scope.UserActiveFacebook[0].name}),localStorage.setItem("datos",JSON.stringify(opInit)),$scope.linkCreateProfile=opInit[0].id))}function userExistGoogle(){null!=$scope.UserActiveGoogle&&($scope.email=$scope.UserActiveGoogle[0].email,$scope.sessionActive=!1,$scope.sessionNanny=!0,$scope.sessionFacebook=!0,$scope.sessionGoogle=!1,0===opInit.length&&(opInit.push({id:$scope.UserActiveGoogle[0].id,email:$scope.UserActiveGoogle[0].email}),localStorage.setItem("datos",JSON.stringify(opInit)),$scope.linkCreateProfile=opInit[0].id))}$scope.sessionActive=!0,$scope.sessionNanny=!0,$scope.sessionFacebook=!0,$scope.sessionGoogle=!0,$scope.UserActiveNanny=JSON.parse(UserNanny),$scope.UserActiveFacebook=JSON.parse(UserFacebook),$scope.UserActiveGoogle=JSON.parse(UserGoogle),$scope.UserActiveFather=JSON.parse(UserFather),$scope.closeSession=function(op){"google"==op?(localStorage.clear(),setTimeout(()=>{location.href="/inicio-de-sesion"},2e3)):"facebook"==op?(localStorage.clear(),setTimeout(()=>{location.href="/inicio-de-sesion"},2e3)):(localStorage.clear(),location.href="/inicio-de-sesion")},userExist(),userExistFacebook(),userExistGoogle()}]);